<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>VaultMusic - Multi-User Experience</title>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="loading-overlay">
        <div class="spinner"></div>
    </div>

    <div id="app-wrapper">
        <div id="app-container">
            <!-- HEADER -->
            <header id="main-header">
                <div class="header-top">
                    <div class="logo-container">
                        <div class="logo-glow"></div>
                        <h1>VaultMusic</h1>
                    </div>
                </div>
                <div class="search-wrapper">
                    <i data-lucide="search" class="search-icon-inside"></i>
                    <input type="text" placeholder="¬øQu√© quieres escuchar hoy?" id="search-input">
                </div>
            </header>

            <!-- CONTENT AREA -->
            <main id="content-area">
                <!-- HOME VIEW -->
                <section id="home-view" class="view active">
                    <div class="section-title">
                        <span>Recomendado para ti</span>
                        <span class="view-all">Vault Discovery</span>
                    </div>
                    <div class="horizontal-scroll" id="featured-list"></div>

                    <div class="section-title">Tendencias Mundiales</div>
                    <div class="vertical-list" id="trending-list"></div>
                </section>

                <!-- SEARCH VIEW -->
                <section id="search-view" class="view">
                    <div id="search-feedback" class="searching-state hidden">
                        <div class="spinner"></div>
                        <p>Buscando en YouTube...</p>
                    </div>

                    <div id="discovery-section">
                        <div class="section-title">B√∫squedas Recientes</div>
                        <div class="horizontal-scroll" id="recent-searches"></div>
                    </div>

                    <div class="section-title">Resultados</div>
                    <div id="search-results-list" class="vertical-list"></div>
                </section>

                <!-- LIKES VIEW (NEW) -->
                <section id="likes-view" class="view">
                    <div class="section-title">
                        <span>Mis Likes</span>
                        <span class="view-all" id="likes-count">0 canciones</span>
                    </div>
                    <div class="vertical-list" id="likes-results-list">
                        <!-- Likes will be injected here -->
                    </div>
                    <div id="empty-likes" class="empty-state">
                        <i data-lucide="heart" style="width:40px; height:40px; margin-bottom:15px; opacity:0.3;"></i>
                        <p>A√∫n no has dado like a ninguna canci√≥n.</p>
                    </div>
                </section>

                <!-- PROFILE VIEW (NEW) -->
                <section id="profile-view" class="view">
                    <div class="profile-card">
                        <div class="profile-header">
                            <div class="profile-avatar-large">
                                <img id="prof-avatar" src="" alt="üë§">
                            </div>
                            <div class="profile-info-main">
                                <h2 id="prof-display-name">Cargando...</h2>
                                <p id="prof-username">@usuario</p>
                            </div>
                        </div>

                        <div class="profile-stats">
                            <div class="stat-item">
                                <span class="stat-value" id="stat-played">0</span>
                                <span class="stat-label">Escuchadas</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="stat-likes">0</span>
                                <span class="stat-label">Likes</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="stat-playlists">0</span>
                                <span class="stat-label">Playlists</span>
                            </div>
                        </div>

                        <div class="profile-options">
                            <div class="option-item">
                                <label>Apodo en VaultMusic</label>
                                <div class="nickname-input-group">
                                    <input type="text" id="nickname-input" placeholder="Tu apodo aqu√≠...">
                                    <button id="save-nickname-btn">Guardar</button>
                                </div>
                            </div>
                            <div class="option-item" id="clear-history-btn"
                                style="background: rgba(255,59,48,0.1); border-color: rgba(255,59,48,0.2);">
                                <span style="color: #ff3b30; font-weight:600;">Limpiar Historial</span>
                                <i data-lucide="trash-2" style="color: #ff3b30; width:18px;"></i>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <!-- BOTTOM NAVIGATION (NEW) -->
            <nav id="bottom-nav">
                <div class="nav-item active" data-view="home-view">
                    <i data-lucide="home"></i>
                    <span>Inicio</span>
                </div>
                <div class="nav-item" data-view="search-view">
                    <i data-lucide="search"></i>
                    <span>Buscar</span>
                </div>
                <div class="nav-item" data-view="likes-view">
                    <i data-lucide="heart"></i>
                    <span>Likes</span>
                </div>
                <div class="nav-item" data-view="profile-view">
                    <i data-lucide="user"></i>
                    <span>Perfil</span>
                </div>
            </nav>

            <!-- MINI PLAYER -->
            <div id="mini-player" class="hidden">
                <div id="mini-progress-fill"
                    style="width: 0%; position: absolute; bottom: 0; left: 0; height: 3px; background: var(--accent-gradient);">
                </div>
                <img src="" alt="Cover" class="mini-cover" id="mini-cover">
                <div class="mini-text">
                    <span id="mini-title" class="truncate">Selecciona un tema</span>
                    <span id="mini-artist" class="truncate">VaultMusic</span>
                </div>
                <div class="mini-controls">
                    <div id="mini-play-btn" class="mini-btn"><i data-lucide="play"></i></div>
                    <div id="show-full-player" class="mini-btn"><i data-lucide="chevron-up"></i></div>
                </div>
            </div>

            <!-- FULL PLAYER -->
            <div id="full-player">
                <header class="player-header">
                    <div id="close-player"><i data-lucide="chevron-down"></i></div>
                    <div class="logo-container">
                        <span style="font-weight: 800; font-size: 1rem;">VaultMusic Pro</span>
                    </div>
                    <div><i data-lucide="more-vertical"></i></div>
                </header>

                <div class="artwork-container">
                    <img src="" alt="" id="full-cover" class="main-cover">
                </div>

                <div class="track-details">
                    <h2 id="full-title" class="truncate">Canci√≥n</h2>
                    <p id="full-artist" class="truncate">Artista</p>
                </div>

                <div class="wave-container" id="visualizer">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>

                <div class="slider-container">
                    <input type="range" id="progress-slider" min="0" max="100" value="0">
                    <div class="time-labels">
                        <span id="current-time">0:00</span>
                        <span id="total-time">0:00</span>
                    </div>
                </div>

                <div class="controls-main">
                    <div id="like-btn" class="control-btn-secondary"><i data-lucide="heart"></i></div>
                    <div class="control-btn-secondary"><i data-lucide="skip-back"></i></div>
                    <div id="play-pause-btn" class="play-main"><i data-lucide="play"></i></div>
                    <div class="control-btn-secondary"><i data-lucide="skip-forward"></i></div>
                    <div class="control-btn-secondary"><i data-lucide="repeat"></i></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>